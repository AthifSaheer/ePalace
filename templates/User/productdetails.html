{% extends 'User/base.html' %}
{% load static %}

{% block title %} Product Details | ePalace {% endblock title %}
        
{% block content %} 


        <main>
            <div class="container">
                <div class="row" id="prd-dtl-div">
                    <style>
                        #img1-big, #img2-big, #img3-big{
                            display: none;
                        }
                    </style>
                        
                    {% for prd in product_detailed %}

                    <div class="col-md-6" id="img-container" style="width: 500px; height:480px;">
                        <img id="imgbig" src="{{ prd.image.url }}" onclick="imgHoverFunc(this)" width="1500px" height="1500px" alt="">
                        <img id="img1-big" src="{{ prd.more_image_one.url }}" width="1500px" height="1500px" alt="">
                        <img id="img2-big" src="{{ prd.more_image_two.url }}" width="1500px" height="1500px" alt="">
                        <img id="img3-big" src="{{ prd.more_image_three.url }}" width="1500px" height="1500px" alt="">
                        
                        <!-- <hr> -->
                        
                        <div class="row"> <!-- id='change' class='pure-button settings__button' onclick="changeImage('imageZoom')" -->
                            <div class="col-md-3"><img onclick="imfunc()" src="{{ prd.image.url }}" alt=""></div>
                            <div class="col-md-3"><img onclick="img1Func()" src="{{ prd.more_image_one.url }}" alt=""></div>
                            <div class="col-md-3"><img onclick="img2Func()" src="{{ prd.more_image_two.url }}" alt=""></div>
                            <div class="col-md-3"><img onclick="img3Func()" src="{{ prd.more_image_three.url }}" alt=""></div>
                            <button id='change' class='pure-button settings__button' onclick="changeImage('imageZoom')">Change</button>
                        </div>
                        
                    </div>
                    
                    <div class="col-md-6">

                        <h4 class="text-info" id="prd-txt">{{ prd.title }}</h4>

                        <h5>{{ prd.description }}</h5>
                        {% if prd.guarandeed %}
                        <span class="badge badge-success" id="guarandeed" onclick="ff()">Guarandeed</span>
                        {% endif %}
                        <br>
                        {% if prd.quantity <= 0 %}
                            <span class="text-danger">Out of Stock</span><br>
                        {% endif %}
                        <!-- <br> -->
                        <br>
                        <div id="price">
                            <span class="mt-3 text-danger">₹{{ prd.selling_price }}</span> <s class="text-secondary"><small>₹{{ prd.marked_price }}</small></s>
                        </div>
                        <br>
                        {% if prd.quantity <= 0 %}

                        <button disabled class="btn" id="add-to-cart-btn">Add to Cart</button>
                        <button disabled class="btn" id="buy-now-btn">Buy Now</button>

                        {% else %}

                        <a href="{% url 'add_to_cart' prd.id %}"><button class="btn update-cart" id="add-to-cart-btn">Add to Cart</button></a>
                        <!-- <button data-product="{{ prd.id }}" data-action="add" class="btn update-cart" id="add-to-cart-btn">Add to Cart</button> -->
                        <button class="btn" id="buy-now-btn">Buy Now</button>
                        
                        {% endif %}

                        <div id="spec">
                            <h4 class="text-muted">Specifications</h4>
                           
                            <table class="table table-borderless">
                                <thead>
                                    <tr>
                                        <th>General</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-secondary">Model Number</td>
                                        <td>{{ prd.model_number }}</td>
                                    </tr>

                                    <tr>
                                        <td class="text-secondary">Model Name</td>
                                        <td>{{ prd.model_name }}</td>
                                    </tr>

                                    <tr>
                                        <td class="text-secondary">Color</td>
                                        <td>{{ prd.color }}</td>
                                    </tr>

                                    <tr>
                                        <td class="text-secondary">Size</td>
                                        <td>{{ prd.size }}</td>
                                    </tr>
                                </tbody>


                                <thead>
                                    <tr>
                                        <th>Processor & Memory Features</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-secondary">Processor Brand</td>
                                        <td>{{ prd.processor_brand }}</td>
                                    </tr>

                                    <tr>
                                        <td class="text-secondary">Processor Name</td>
                                        <td>{{ prd.processor_name }}</td>
                                    </tr>

                                    <tr>
                                        <td class="text-secondary">Storage</td>
                                        <td>{{ prd.storage }}</td>
                                    </tr>

                                    <tr>
                                        <td class="text-secondary">Ram</td>
                                        <td>{{ prd.ram }}</td>
                                    </tr>
                                    
                                </tbody>
                                
                            </table>
                        </div>
                        
                    </div>

                    {% endfor %}

                </div>
            </div>
        </main>

        <script src="/assets/js/cart.js"></script>
        <script src="/assets/js/js-image-zoom.js"></script>

        <script>

        var options1 = {
            width: 400,
            zoomWidth: 500,
            offset: {vertical: 0, horizontal: 10}
        };

        // If the width and height of the image are not known or to adjust the image to the container of it
        var options2 = {
            fillContainer: true,
            offset: {vertical: 0, horizontal: 10}
        };
        new ImageZoom(document.getElementById("img-container"), options2);

        </script>
{% endblock %}